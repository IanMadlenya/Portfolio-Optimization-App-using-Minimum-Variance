require 'test_helper'

class StatisticsTest < ActiveSupport::TestCase
  
  def setup
    @data =  [-0.0491824904946076,
              0.225559434030568,
              0.375005871489638,
              0.0469305228937567,
              -0.398159904865982,
              0.485022737020482,
              0.0967836761524705,
              0.25744746231656,
              0.421142069299622,
              0.486208948098228,
              0.077998133218633,
              0.368567473164315,
              -0.0158991923058504,
              0.265963486479242,
              0.185635300589298,
              0.0863872588787857,
              0.282222969031221,
              0.396543154160725,
              0.135118045619986,
              0.653720741673574,
              0.379594245271238,
              0.4827096910417,
              0.174688357661841,
              0.0606437235350364,
              -0.308762641008169,
              -0.3758191446966,
              0.296004604319498,
              0.184594621357988,
              0.133307952787018,
              0.151261041100079,
              -0.118568182176557,
              0.470008947596263,
              0.384106425887393,
              0.221968417206952,
              0.812189992736583,
              0.0173154409213911,
              -0.0162464700726481,
              -0.0511770839648744,
              0.404635217853197,
              0.405706965846751]
  end
  
  def test_mean
    expected = Statistics.mean( @data )
    actual   = 0.20
    assert_in_delta(expected, actual, 0.015, message = "exceeded tolerance")
  end
  
  def test_variance
    expected = Statistics.variance( @data, Statistics.mean( @data ) )
    actual   = 0.0625
    assert_in_delta(expected, actual, 0.02, message = "exceeded tolerance")
  end
end